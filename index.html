<!DOCTYPE html>
<html lang="en">
	<head>
    <meta charset="utf-8">
    <title>CS290 API How-To</title>
	<link href="style.css" rel="stylesheet" type="text/css">
  </head>
  
  <body>
		<div id="titleDiv">
			<div class="titleButton"><a href = "index.html">Intro</a></div>
			<div class="titleButton"><a href = "project_key.html">Getting Access</a></div>
			<div class="titleButton"><a href = "project_req.html">Requests</a></div>
			<div class="titleButton"><a href = "project_resp.html">Response</a></div>
			<div class="titleButton"><a href = "project_ex.html">API At Work</a></div>
		</div>
	
	<div>
		<img  id= "yelpImg" src= "logo-2-color.png">
		<h1>Introduction to the Yelp Fusion API.  How to 'Yelp' From Your Own Page!</h1>
	</div>
	
	<h2>The Yelp Fusion API</h2>
	
	<div class= "apiBox">
		<img id= "computer" src = "fusion.png">
		<p>Although described as an "API", Yelp Fusion is actually a set of APIs that developers can use to add Yelp functionality to their applications.  Under Yelp Fusion v2, APIs are	available to perform the following:  </p>
		<ul>
			<li> Find businesses by keyword search and location
			<li> Look up information for a given business (ex: hours of operation, reviews, and photos).
			<li> Search for business by phone.
		</ul>
		
		<p>Under the recently introduced Yelp Fusion v3, new functionality 	has also been added	to search by a specific transaction (ex: food delivery), return reviews for a business,	and provide autocomplete suggestions based on input text.(<a href= "#fn1">1</a>)  
		</p>
		
		<p>In this How-To, we will focus on Yelp Fusion v2 due to its additional complexity; in contrast with Yelp Fusion v3, it uses 4 different identifiers (consumer ID, consumer secret, token ID, token secret) to generate a secure authorization signature needed for request submission.  Additionally, this How-To will seek to fill in some of the "gaps" between obtaining user credentials and generating the request in Javascript.  Although the Yelp Fusion API website and its GitHub sample site <a href = "https://www.yelp.com/developers/documentation/v2/examples">
		here</a> provide some examples of different languages used to code the API request, such as Python, Android, PHP and Ruby,  detailed information on how to format and submit Javascript-coded requests to the API is not presented. 
		</p>
		
		<p>Below is some background information that will be needed to generate the request code.
		</p>
	</div>
	
	<div id= "backgrd">
		<div id= "oauth">
			<h2>Oauth and Security</h2>
			<p> The Yelp Fusion API uses standard, secure authorization protocol 
				<a class = "links" href= "https://en.wikipedia.org/wiki/OAuth">OAuth</a> to authenticate requests. OAuth provides a way for users to securely access third party applications from a server without sharing password information.  "Tokens" are granted to users to provide access.  Authentication data includes a user ("consumer") key and password ("secret"), a token ID, and (depending on the API and OAuth version being used) a token secret.
			</p>
			
			</p>
			<p>The Oauth v1.0a signature must be included as part of the API call, and is generated via an <a href= "https://en.wikipedia.org/wiki/Hash-based_message_authentication_code">HMAC-SHA1</a> hash algorithm, which takes as input the following information: 
			</p>
			<ul>
			<li>Request parameters including: 'GET' request method, request URL, search term and location, the consumer key and token, and the callback name to be used for returned information.
			<li>The consumer and token secrets.
			</ul>
			
			<p> Yelp Fusion v2 uses Oauth v1.0a, whereas Yelp Fusion v3 uses its successor Oauth v2.0.  
				Oauth v2.0 improves on Oauth v1.0 in the following: 
				<ul>
					<li>Support for non-browser applications, such as mobile phones.  
					<li>Simplified security signature- no complex hashing.
					<li>Access tokens which expire.
					<li>Better separation between server authorization and request handling.(<a href= "#fn2">2</a>)
				</ul>
		</div>
		
		<div id= "introBox2">
			<h2>Coding Requests</h2>
			<p>For Yelp Fusion v2, a request is created and submitted which combines security information and request data.  We will later look at a working example of the Yelp Search API which takes a term and location as query parameters in the request.  
			</p>
			<p>In this tutorial, we will look at two Javascript-based code implementations of request generation: </p>
				<ul>
					<li>On the command line, using Node.js and npm modules to facilitate security signature generation and request submission through the creation of a "Yelp Object". 
					<li>In the browser, using Javascript/Jquery/Ajax to create encoded OAuth signatures via hashing, used to formulate and make the API calls. 
				</ul>	
			<p>	As both types are Javascript-based, the code requests are similar. Both use <a href= "https://msdn.microsoft.com/en-us/library/bb299886.aspx"> JSON (Javascript Object Notation)</a>, and make use of asynchronous <strong>Asynchronous Input/Output (I/O)</strong> for request handling.  With asynchronous I/O, program/script processing can run concurrently with input and output operations.  Traditionally, I/O has been <strong>Synchronous</strong>:  I/O would halt executing script or program processes, pending its completion.  Because I/O can be a very slow process (possibly seeking or writing data to a mechanical system), Synchronous I/O can significantly impact program performance.(<a href= "#fn3">3</a>) Both requests will also be GET requests, per Yelp specification.
			</p>
		</div>
	</div>
	
	<div class= "next">
		<a href = "project_key.html"><h1>Next, let's look at getting access to the API...</h1></a>
	</div>

		<footer>
		<p>References: <br/>
			<ol>
				<li id= "fn1" ><a class = "foot" href= "https://www.yelp.com/developers/documentation/v3">
				https://www.yelp.com/developers/documentation/v3</a><br/>
				<li id= "fn2" ><a class = "foot" href= "https://hueniverse.com/2010/05/15/introducing-oauth-2-0/">
				https://hueniverse.com/2010/05/15/introducing-oauth-2-0/</a><br/>	
				<li id= "fn3" ><a class = "foot" href= "https://en.wikipedia.org/wiki/Asynchronous_I/O">
				https://en.wikipedia.org/wiki/Asynchronous_I/O</a><br/>
			</ol>
	</footer>
	</body>
</html>
